{% extends "main/Layout.html" %}

{% load static %}

{% block title %}
Home
{% endblock %}

{% block extra_css %}
  <style>
    .ezy__service23-card {
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }

    .ezy__service23-card:hover {
        transform: translateY(-10px);
    }

    .ezy__howitworks5-card {
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }

    .ezy__howitworks5-card:hover {
      transform: translateY(-10px);
    }

    .pagination {
        margin: 0 auto;
    }

    .pagination .dot {
        display: inline-block;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        background-color: #098761; /* Adjust to your desired color */
        margin: 0 5px;
        cursor: pointer;
    }

    .pagination .dot.active {
        background-color: #000; /* Adjust to your desired active color */
    }

    .pagination .arrow {
      border-radius: 0;
      background: none;
      font-size: 60px;
      line-height: 40px;
      text-align: center;
      vertical-align: middle;
      margin: 0 20px;
      cursor: pointer;
    }


    /* Online dot */
    .testimonial-online-dot {
      position: relative;
      bottom: 20px;
      left: 150px;
      width: 15px;
      height: 15px;
      background-color: #098761; /* Green dot color */
      border-radius: 50%; /* Rounded shape */
    }

    /* Offline dot */
    .testimonial-offline-dot {
      position: relative;
      bottom: 20px;
      left: 150px;
      width: 15px;
      height: 15px;
      background-color: #A9A9A9; /* Gray dot color */
      border-radius: 50%; /* Rounded shape */
    }    

    /* Fixed card size and alignment */
    .ezy__service23-card,
    .ezy__blog3-post {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        height: 100%;
    }

    .ezy__service23-card .card-body,
    .ezy__blog3-post .card-body {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .ezy__service23-card-title,
    .ezy__blog3-title {
        height: 50px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .ezy__service23-card-sub-title,
    .ezy__blog3-description {
        height: 72px;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .ezy__service23-card,
    .ezy__blog3-post {
        max-height: 450px; /* Adjust the max height as needed */
    }

    .ezy__service23-card-body,
    .ezy__blog3-post-body {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }    
  </style>

{% endblock %}

{% block content %}
  <!-- hero section start -->
  <header class="ezy__header41">
      <!-- shape one -->
      <svg
        class="position-absolute bottom-0 start-0"
        width="335"
        height="186"
        viewBox="0 0 335 186"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M327.624 186C331.697 186 335 182.795 335 178.843C335 174.889 331.697 171.686 327.624 171.686L327.624 186ZM99.0264 108.432C99.0264 104.479 95.725 101.274 91.6506 101.274C87.5777 101.274 84.2748 104.479 84.2748 108.432L99.0264 108.432ZM14.7516 7.15719C14.7516 3.20498 11.4488 -1.41429e-05 7.37582 -1.43209e-05C3.30142 -1.4499e-05 -1.40095e-07 3.20498 -3.12851e-07 7.15719L14.7516 7.15719ZM70.8301 92.441C74.9031 92.441 78.206 89.2374 78.206 85.2838C78.206 81.3316 74.9031 78.1266 70.8301 78.1266L70.8301 92.441ZM327.624 171.686L237.363 171.686L237.363 186L327.624 186L327.624 171.686ZM237.363 171.686C227.292 171.686 219.034 163.687 219.034 153.695L204.283 153.695C204.283 171.481 219.031 186 237.363 186L237.363 171.686ZM219.034 153.695C219.034 135.907 204.272 121.392 185.942 121.392L185.942 135.706C196.019 135.706 204.283 143.708 204.283 153.695L219.034 153.695ZM185.942 121.392L180.609 121.392L180.609 135.706L185.942 135.706L185.942 121.392ZM180.609 121.392C162.28 121.392 147.517 135.907 147.517 153.695L162.268 153.695C162.268 143.708 170.534 135.706 180.609 135.706L180.609 121.392ZM147.517 153.695C147.517 163.684 139.253 171.686 129.177 171.686L129.177 186C147.506 186 162.268 171.485 162.268 153.695L147.517 153.695ZM129.177 171.686L123.272 171.686L123.272 186L129.177 186L129.177 171.686ZM123.272 171.686C109.935 171.686 99.0264 161.097 99.0264 147.921L84.2748 147.921C84.2748 168.9 101.682 186 123.272 186L123.272 171.686ZM99.0264 147.921L99.0264 131.902L84.2748 131.902L84.2748 147.921L99.0264 147.921ZM99.0264 131.902L99.0264 108.432L84.2748 108.432L84.2748 131.902L99.0264 131.902ZM-3.12851e-07 7.15719L-1.0331e-06 23.6345L14.7516 23.6345L14.7516 7.15719L-3.12851e-07 7.15719ZM-1.0331e-06 23.6345C-2.69384e-06 61.6278 31.7028 92.441 70.8301 92.441L70.8301 78.1266C39.8664 78.1266 14.7516 53.7377 14.7516 23.6345L-1.0331e-06 23.6345Z"
          fill="#4175DF"
          fill-opacity="0.17"
        />
      </svg>
    
      <!-- shape two -->
      <svg
        class="position-absolute bottom-0 end-0"
        width="102"
        height="102"
        viewBox="0 0 102 102"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M50.9999 102C79.1665 102 102 79.1665 102 51C102 22.8335 79.1665 0 50.9999 0C22.8334 0 0 22.8335 0 51C0 79.1665 22.8334 102 50.9999 102Z"
          fill="#FF9100"
          fill-opacity="0.19"
        />
      </svg>
    
      <div class="container">
        <div class="row align-items-center justify-content-center">
          <div class="col-12 col-md-9 col-lg-7 text-center text-lg-start mb-5 mb-lg-0">
            <div class="position-relative mb-3 pb-4">
              <div class="ezy__header41-bg-holder"></div>
              <h2 class="ezy__header41-heading">Hire the  Expert For <span class="text-primary fst-italic">Future</span></h2>
            </div>
            <div class="row">
              <div class="col-12 col-lg-8">
                <p class="ezy__header41-sub-heading mb-5">
                  An activity that requires a person's mental or physical effort is work.If a person is trained for a
                  certain type of job, they may have a job or profession which suits.
                </p>
              </div>
            </div>

          </div>
          <div class="col-12 col-lg-5 position-relative text-center">
            <div class="ezy__header41-shape"></div>
            <!-- shape three -->
            <svg
              class="ezy__header41-shape-three position-absolute bottom-0"
              width="291"
              height="168"
              viewBox="0 0 291 168"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M80.926 5.72087C38.4338 6.50518 4.64517 42.1258 5.44169 85.2796C6.23821 128.433 41.3183 162.781 83.8105 161.997L285.424 158.275"
                stroke="#34C69F"
                stroke-width="10"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
    
            <div>
              {% comment %} <img src="https://cdn.easyfrontend.com/pictures/quiz_1.png" alt="" class="img-fluid" /> {% endcomment %}
              <img src="{% static 'assets/character3.png' %}" alt="" class="img-fluid"/>
            </div>
          </div>
        </div>
      </div>
  </header>
  <!-- hero section end -->


  <!-- client section start -->
  <section class="ezy__clients4 light">
      <div class="container">
        <div class="text-center mb-5">
          <h2 class="ezy__clients4-heading">Meet Our Clients & Partners</h2>
        </div>
        <marquee behavior="scroll" direction="left" loop>
          <div class="d-flex justify-content-center align-items-center text-center">
            <img src="https://cdn.easyfrontend.com/pictures/logos/color-logo-1.png" alt=""
              class="ezy__clients4-img img-fluid px-5 my-4" />
            <img src="https://cdn.easyfrontend.com/pictures/logos/color-logo-2.png" alt=""
              class="ezy__clients4-img img-fluid px-5 my-4" />
            <img src="https://cdn.easyfrontend.com/pictures/logos/color-logo-3.png" alt=""
              class="ezy__clients4-img img-fluid px-5 my-4" />
            <img src="https://cdn.easyfrontend.com/pictures/logos/color-logo-4.png" alt=""
              class="ezy__clients4-img img-fluid px-5 my-4" />
            <img src="https://cdn.easyfrontend.com/pictures/logos/color-logo-5.png" alt=""
              class="ezy__clients4-img img-fluid px-5 my-4" />
            <img src="https://cdn.easyfrontend.com/pictures/logos/color-logo-6.png" alt=""
              class="ezy__clients4-img img-fluid px-5 my-4" />
            <img src="https://cdn.easyfrontend.com/pictures/logos/color-logo-7.png" alt=""
              class="ezy__clients4-img img-fluid px-5 my-4" />
            <img src="https://cdn.easyfrontend.com/pictures/logos/color-logo-8.png" alt=""
              class="ezy__clients4-img img-fluid px-5 my-4" />
          </div>
        </marquee>
      </div>
  </section>
  <!-- client section end -->

    <!-- Service section start -->
    <section class="ezy__service23 light service" id="ezy__service23">
      <div class="container">
          <div class="row ezy__service23-separator justify-content-center">
              <!-- Start: Section Heading -->
              <div class="col-12 mb-5 text-center">
                  <div class="row justify-content-center">
                      <div class="col-12 col-md-10 col-lg-5">
                          <h3 class="ezy__service23-heading">Services List</h3>
                      </div>
                  </div>
                  <p class="ezy__service23-sub-heading mt-4 px-md-4">
                      Discover our wide range of services designed to meet your needs. 
                      From professional consulting to cutting-edge technology solutions, 
                      our offerings are tailored to help you achieve your goals efficiently and effectively.
                  </p>
              </div>
              <!-- End: Section Heading -->

              <!-- Services container -->
              <div id="services-container" class="row">
                  <!-- Loop through services and display them -->
                  {% for service in page_obj %}
                  <div class="col-12 col-md-6 col-xl-4 mt-4 d-flex align-items-stretch ">
                      <div class="card ezy__service23-card border-0 rounded-0 w-100">
                          <div class="card-body pt-4 text-center d-flex flex-column align-items-center">
                              <div class="ezy__service23-card-icon mb-3">
                                  <!-- Use the icon field from the Service model -->
                                  <img src="{{ service.icon.url }}" alt="{{ service.name }} Icon" width="50">
                              </div>
                              <div class="card-body pb-4 text-center">
                                  <h5 class="ezy__service23-card-title mb-3">{{ service.name }}</h5>
                                  <p class="ezy__service23-card-sub-title mb-0">{{ service.description }}</p>
                                  <a href="{% url 'service_candidates' service.id %}">
                                      <button class="px-3 mt-3"><span>View Candidates</span></button>
                                  </a>
                              </div>
                          </div>
                      </div>
                  </div>
                  {% endfor %}
                  <!-- End loop -->
              </div>
              <!-- End: Services container -->
               
              <!-- Pagination controls -->
              <div class="col-12 mt-4">
                  <nav aria-label="Page navigation">
                      <ul class="pagination justify-content-center d-flex align-items-center" id="paginator" >
                          <!-- Pagination dots will be dynamically generated here -->
                      </ul>
                  </nav>
              </div>
              <!-- End: Pagination controls -->

              <!-- View All button -->
              <div class="col-12 mt-4 text-center">
                  <a href="{% url 'all_services' %}">
                      <button class="px-3"><span>View All Services</span></button>
                  </a>
              </div>
          </div>
          <!-- End: .row -->
      </div>
      <!-- End: .container -->
    </section>
    <!-- Service section end -->


    {% comment %} testimonial section {% endcomment %}
    <section class="ezy__testimonial5 light" id="Talents">
      <div class="container">
          <div class="row justify-content-center mb-4 mb-md-5">
              <div class="col-lg-6 col-xl-5 text-center">
                  <h2 class="ezy__testimonial5-heading mb-3">Meet Our Talents</h2>
                  <p class="ezy__testimonial5-sub-heading mb-0">
                      From there give dominion, lights doesn't good all rule let open, appear our beast second bearing.
                  </p>
              </div>
          </div>
          <div class="row">
              {% for user in users %}
                  {% if user.role == 'candidate' %}
                      <div class="col-md-6 col-lg-4">
                          <div class="ezy__testimonial5-item p-4 py-lg-5 mt-4 text-center position-relative">
                              <div>
                                {% if user.userprofile.profile_image %}
                                <img class="post_avatar" src="{{ user.userprofile.profile_image.url }}" alt="avatar" style="width: 80px; height: 80px;">
                                {% else %}
                                    <img class="post_avatar" src="{% static 'assets/candidate2.jpg' %}" alt="avatar" style="width: 80px; height: 80px;">
                                {% endif %}
                                {% if user.is_online %}
                                    <div class="testimonial-online-dot"></div>
                                {% else %}
                                    <div class="testimonial-offline-dot"></div>
                                {% endif %}
                              </div>
                              <div class="ezy__testimonial5-content mt-3">
                                  <h4 class="mb-1">{{ user.first_name }} {{ user.last_name }}</h4>
                                  <p class="mb-4 ezy__testimonial5-rating">
                                      <span class="fas fa-star active"></span>
                                      <span class="fas fa-star active"></span>
                                      <span class="fas fa-star active"></span>
                                      <span class="fas fa-star active"></span>
                                      <span class="fas fa-star-half-alt active"></span>
                                  </p>
                                  <p class="opacity-50 mb-0">
                                      Itâ€™s easier to reach your savings goals when you have the right savings account. Take a look and find
                                      the right one for you.
                                  </p>
                              </div>
                          </div>
                      </div>
                  {% endif %}
              {% endfor %}
          </div>
      </div>
    </section>
    {% comment %} testimonial section end {% endcomment %}


    {% comment %} how it work section{% endcomment %}
    <section class="ezy__howitworks5 light" >
        <div class="container">
          <div class="row justify-content-center text-center">
            <div class="col-md-6">
              <h2 class="ezy__howitworks5-heading mb-3">How It Works</h2>
              <p class="ezy__howitworks5-sub-heading">
                Assumenda non repellendus distinctio nihil dicta sapiente, quibusdam maiores, illum at, aliquid blanditiis
                eligendi qui nihil repellendus dicta sapiente.
              </p>
            </div>
          </div>
          <div class="row">
            <div class="col-12 col-md-6 col-lg-3 mt-5">
              <div class="card ezy__howitworks5-card h-100 w-100">
                <div class="card-body p-4 p-lg-5">
                  <div class="ezy__howitworks5-icon d-flex justify-content-center align-items-center mb-4">
                    <i class="fas fa-sign-in-alt"></i>
                  </div>
                  <h5 class="card-title fs-4 mb-3 fw-bold">Log in</h5>
                  <p class="card-text opacity-75">The challenge facing online banks is to meet the needs.</p>
                </div>
              </div>
            </div>
      
            <div class="col-12 col-md-6 col-lg-3 mt-5">
              <div class="card ezy__howitworks5-card h-100 w-100">
                <div class="card-body p-4 p-lg-5">
                  <div class="ezy__howitworks5-icon d-flex justify-content-center align-items-center mb-4">
                    <i class="fas fa-cannabis"></i>
                  </div>
                  <h5 class="card-title fs-4 mb-3 fw-bold">Select Service</h5>
                  <p class="card-text opacity-75">The challenge facing online banks is to meet the needs.</p>
                </div>
              </div>
            </div>
      
            <div class="col-12 col-md-6 col-lg-3 mt-5">
              <div class="card ezy__howitworks5-card h-100 w-100">
                <div class="card-body p-4 p-lg-5">
                  <div class="ezy__howitworks5-icon d-flex justify-content-center align-items-center mb-4">
                    <i class="fas fa-camera"></i>
                  </div>
                  <h5 class="card-title fs-4 mb-3 fw-bold">Select Amount</h5>
                  <p class="card-text opacity-75">The challenge facing online banks is to meet the needs.</p>
                </div>
              </div>
            </div>
      
            <div class="col-12 col-md-6 col-lg-3 mt-5">
              <div class="card ezy__howitworks5-card h-100 w-100">
                <div class="card-body p-4 p-lg-5">
                  <div class="ezy__howitworks5-icon d-flex justify-content-center align-items-center mb-4">
                    <i class="fas fa-random"></i>
                  </div>
                  <h5 class="card-title fs-4 mb-3 fw-bold">Payment</h5>
                  <p class="card-text opacity-75">The challenge facing online banks is to meet the needs.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
    </section>
    {% comment %} how it work section{% endcomment %}
{% endblock %}

{% block extra_js %}

  <script>
    document.addEventListener("DOMContentLoaded", function() {
        const paginator = document.getElementById("paginator");
        const totalPages = {{ page_obj.paginator.num_pages }};
        let currentPage = {{ page_obj.number }};

        function loadPage(page) {
            fetch(`?page=${page}`)
                .then(response => response.text())
                .then(data => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(data, 'text/html');
                    const newContent = doc.getElementById('services-container').innerHTML;
                    document.getElementById('services-container').innerHTML = newContent;

                    currentPage = page;
                    updatePaginator();
                })
                .catch(error => console.error('Error:', error));
        }

        function updatePaginator() {
            paginator.innerHTML = "";

            const prevArrow = document.createElement("li");
            prevArrow.classList.add("arrow");
            prevArrow.innerHTML = "&laquo;";
            prevArrow.addEventListener("click", function() {
                if (currentPage > 1) {
                    loadPage(currentPage - 1);
                }
            });
            paginator.appendChild(prevArrow);

            for (let i = 1; i <= totalPages; i++) {
                const dot = document.createElement("li");
                dot.classList.add("dot");
                if (i === currentPage) {
                    dot.classList.add("active");
                }
                dot.setAttribute("data-page", i);
                dot.addEventListener("click", function() {
                    const page = parseInt(this.getAttribute("data-page"));
                    loadPage(page);
                });
                paginator.appendChild(dot);
            }

            const nextArrow = document.createElement("li");
            nextArrow.classList.add("arrow");
            nextArrow.innerHTML = "&raquo;";
            nextArrow.addEventListener("click", function() {
                if (currentPage < totalPages) {
                    loadPage(currentPage + 1);
                }
            });
            paginator.appendChild(nextArrow);
        }

        updatePaginator();
    });
  </script>

{% endblock %}